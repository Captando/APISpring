<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mercado - Catálogo de Produtos</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <header class="topbar">
      <h1>Mercado - API de Produtos</h1>
      <p>Interface local (Spring Boot + API + frontend no mesmo app)</p>
    </header>

    <section class="card">
      <h2>Filtros</h2>
      <div class="grid">
        <input id="filterName" placeholder="Buscar por nome" />
        <input id="filterCategory" placeholder="Filtrar por categoria" />
        <input id="filterMinPrice" type="number" step="0.01" min="0" placeholder="Preço mínimo" />
        <input id="filterMaxPrice" type="number" step="0.01" min="0" placeholder="Preço máximo" />
        <select id="filterActive">
          <option value="">Todos</option>
          <option value="true">Ativos</option>
          <option value="false">Inativos</option>
        </select>
        <button onclick="loadProducts(0)">Aplicar filtros</button>
        <button class="ghost" onclick="resetFilters()">Limpar</button>
      </div>
    </section>

    <section class="split">
      <article class="card">
        <h2>Produtos</h2>
        <table>
          <thead>
            <tr>
              <th>ID</th><th>Nome</th><th>Categoria</th><th>Preço</th><th>Estoque</th><th>Ativo</th><th>Ações</th>
            </tr>
          </thead>
          <tbody id="productsBody"></tbody>
        </table>
      </article>

      <article class="card">
        <h2 id="formTitle">Novo produto</h2>
        <form id="productForm" onsubmit="saveProduct(event)">
          <input type="hidden" id="productId" />
          <input id="name" placeholder="Nome" required />
          <textarea id="description" placeholder="Descrição"></textarea>
          <input id="category" placeholder="Categoria" />
          <input id="price" type="number" step="0.01" min="0" placeholder="Preço" required />
          <input id="stockQuantity" type="number" min="0" placeholder="Quantidade em estoque" required />
          <label class="check"><input id="active" type="checkbox" checked /> Ativo</label>
          <button type="submit">Salvar</button>
        </form>

        <div class="mt-16">
          <button onclick="stockAdjust(1)">+1 estoque</button>
          <button onclick="stockAdjust(-1)">-1 estoque</button>
          <button class="ghost" onclick="clearForm()">Limpar formulário</button>
        </div>

        <div id="feedback" class="feedback"></div>
      </article>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
